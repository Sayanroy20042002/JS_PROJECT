<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>search engine by using unplash api</title>
    <link rel="stylesheet" href="css/se.css">
    <link rel="icon" type="image/x-icon" href="img/pixelcut-export (2).png">
</head>
<body>
    <h1>Search images using UNPLASH API made with HTML,CSS & JS </h1>
    
        <form id="search-form">
            <input type="text" id="search-box" placeholder="search anything with valid keywords...">
            <button>search</button>
        </form>
    
        <div id="search-result"></div>
        <button id="show-more-btn">SHOW MORE</button>
        
    
    <script>
        const accesskey="Ke8hYImtM_Up32d1QGFTkta_j64OJIvy6BIPxGrHZ4I";
        const searchform=document.getElementById("search-form");
        const searchbox=document.getElementById("search-box");
        const searchresult=document.getElementById("search-result");
        const showmorebtn=document.getElementById("show-more-btn");
    
        let keyword="";
        let page=1;
        async function searchimages(){
            keyword=searchbox.value;
            const url=`https://api.unsplash.com/search/photos?page=${page}&query=${keyword}&client_id=Ke8hYImtM_Up32d1QGFTkta_j64OJIvy6BIPxGrHZ4I&per_page=12`;
            const response=await fetch(url);
            const data=await response.json();
            const results = data.results;
            results.map((result)=>{
                const image= document.createElement("img");
                image.src= result.urls.small;
                const imagelink=document.createElement("a")
                imagelink.href=result.links.html;
                imagelink.target="_blank";
                imagelink.appendChild(image);
                searchresult.appendChild(imagelink);
    
            })
            showmorebtn.style.display="block";
        }
        searchform.addEventListener("submit",(e) =>{
            e.preventDefault();
            page=1;
            searchimages();
        })
        showmorebtn.addEventListener("click",()=>{
            page++;
            searchimages();
        })
    
    </script>
    <div id="mySidenav" class="sidenav">
        <a href="index.html" id="about">Home</a>
        <a href="dc.html" id="blog"> Digital Clock</a>
        <a href="ml.html" id="projects">Mothers Lap</a>
        <a href="kn.html" id="contact">Know Me</a>
      </div>
    </body>
    
    </html>
</body>
</html>